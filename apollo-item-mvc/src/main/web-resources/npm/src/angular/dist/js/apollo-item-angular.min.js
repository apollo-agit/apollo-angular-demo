/**
 * @license Inertia v1.0
 * 
 * Inertia, Inc. 
 * License: MIT
 */
function test(){$.ajax({url:"wait.php",cache:!1})}var apolloHistoryServices=angular.module("apolloHistoryServices",["ngResource"]),apolloItemServices=angular.module("apolloItemServices",["ngResource"]),apolloMaintenanceControllers=angular.module("apolloMaintenanceControllers",[]),apolloMaintenanceApp=angular.module("apolloMaintenanceApp",["apolloMaintenanceControllers","ui.router","ngGrid","apolloItemServices","apolloHistoryServices"]);apolloMaintenanceApp.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("item",{url:"/item",templateUrl:"html/maintenance/item-list.html",controller:"ApolloItemMaintenanceController"}).state("history",{url:"/history/:itemId",templateUrl:"html/maintenance/item-history.html",controller:"ApolloHistoryController"}).state("newitem",{url:"/newitem",templateUrl:"html/maintenance/item-new-form.html",controller:"ApolloNewItemController"})}]),apolloMaintenanceApp.directive("dynamicName",function(a){return{restrict:"A",terminal:!0,priority:1e3,link:function(b,c,d){c.attr("name",b.$eval(d.dynamicName)),c.removeAttr("dynamic-name"),a(c)(b)}}}),/**
 * @license Inertia v1.0
 * 
 * Inertia, Inc. 
 * License: MIT
 */
apolloItemServices.factory("ApolloItems",["$resource",function(a){return a("/apollo-item-mvc/service/apolloitems/item",{id:"@id"},{query:{method:"GET",isArray:!0},save:{method:"POST"},remove:{method:"DELETE"}})}]);var removeTemplate='<input type="button" value="remove" ng-click="removeRow($index)" />',linkCellTemplate='<a ng-href="#/history/{{row.entity.id}}">{{row.entity.id}}</a>';apolloMaintenanceControllers.controller("ApolloItemMaintenanceController",["$scope","ApolloItems",function(a,b){a.apolloItems=b.query(),a.orderProp="apolloItemName",a.totalServerItems=a.apolloItems.length,a.gridOptions={data:"apolloItems",columnDefs:[{field:"id",displayName:"Item Id",cellTemplate:linkCellTemplate},{field:"apolloItemName",displayName:"Item Name",enableCellEdit:!0},{field:"apolloItemAmount",displayName:"Item Cost",enableCellEdit:!0},{field:"apolloItemDesc",displayName:"Item Description",enableCellEdit:!0},{field:"remove",displayName:"",cellTemplate:removeTemplate}],showGroupPanel:!1,jqueryUITheme:!0,enablePaging:!1,showFooter:!0,enableCellSelection:!0,enableRowSelection:!0,plugins:[new ngGridFlexibleHeightPlugin({maxHeight:1e3})]},a.addRow=function(){a.apolloItems.push({apolloItemName:"Empty",apolloItemAmount:0})},a.saveAllApolloItems=function(){$.blockUI({message:'<h1><img src="images/busy.gif" /> Just a moment...</h1>'}),angular.forEach(a.apolloItems,function(a){b.save({id:a.id},a)}),setTimeout(function(){$.unblockUI()},2e3)},a.removeRow=function(){$.blockUI({message:'<h1><img src="busy.gif" /> Just a moment...</h1>'});var c=this.row.rowIndex,d=a.apolloItems[c];b.remove({id:d.id},d,function(){a.apolloItems=b.query()}),setTimeout(function(){$.unblockUI()},1e3)}}]),/**
 * @license Inertia v1.0
 * 
 * Inertia, Inc. 
 * License: MIT
 */
apolloItemServices.factory("ApolloNewItem",["$resource",function(a){return a("/apollo-item-mvc/service/apolloitems/item",{id:"@id"},{head:{url:"/apollo-item-mvc/service/apolloitems/item/metadata",method:"GET"}})}]),apolloMaintenanceControllers.controller("ApolloNewItemController",["$scope","ApolloNewItem",function(a,b){a.loadProperties=function(){b.head().$promise.then(function(b){var c=new Array;$.each(b.properties,function(a,b){var d=new Object;d.label=a,d.name=a,d.type=b.type,d.required=!0,c.push(d)});var d=new Object;d.name="FormFields",d.fields=c,console.log(JSON.stringify(d)),a.entity=d})}}]),/**
 * @license Inertia v1.0
 * 
 * Inertia, Inc. 
 * License: MIT
 */
apolloItemServices.factory("ApolloHistory",["$resource",function(a){return a("/apollo-item-mvc/service/apolloitems/history",{itemId:"@historyItemId"},{query:{method:"GET",isArray:!0}})}]),apolloMaintenanceControllers.controller("ApolloHistoryController",["$scope","$stateParams","ApolloHistory",function(a,b,c){a.historyItemId=b.itemId,a.itemHistory=c.query({itemId:a.historyItemId})}]),/**
 * @license Inertia v1.0
 * 
 * Inertia, Inc. License: MIT
 */
$(document).ajaxStop($.unblockUI),$(document).ready(function(){$(document).ready(function(){$("#saveAllItems2").click(function(){$.blockUI({message:'<h1><img src="busy.gif" /> Just a moment...</h1>'})})})});